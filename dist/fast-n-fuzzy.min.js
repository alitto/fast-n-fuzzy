!function(a){"use strict";function b(){this.entries=[]}b.prototype.add=function(a,b){for(var c=0;c<this.entries.length&&this.entries[c].k<=a;)c++;if(c>=this.entries.length)this.entries.push({k:a,v:[b]});else{var d=this.entries[c];d.k==a?d.v.indexOf(b)<0&&d.v.push(b):this.entries.splice(c,0,{k:a,v:[b]})}},b.prototype.search=function(a,b,c){for(var d,e,f,g=[],h=[],i=0,j=this._closestBinarySearch(this.entries,"k",a),k=0;c>k;k++)d=j-k,i=j+k,d>=0&&(e=this.entries[d],f=Math.abs(e.k-a),b>=f&&this._addSearchResult(g,h,f,e)),d!=i&&i<this.entries.length&&(e=this.entries[i],f=Math.abs(e.k-a),b>=f&&this._addSearchResult(g,h,f,e));return g=g.sort(sortByAttribute("distance",!0)),g.length>c?g.slice(0,c):g},b.prototype._addSearchResult=function(a,b,c,d){for(var e,f=null,g=0;g<d.v.length;g++)e={distance:c,value:d.v[g]},f=b.indexOf(e.value),f>=0?a[f].distance>c&&a.splice(f,1,e):(a.push(e),b.push(e.value))},b.prototype._closestBinarySearch=function(a,b,c){for(var d=0,e=a.length-1,f=0;e>=d;)if(f=Math.floor((d+e)/2),a[f][b]>c)e=f-1;else{if(!(a[f][b]<c))break;d=f+1}return f},a.NumericMap=b}(this);
!function(a){"use strict";function b(a){a=a||{},this.mergedResults=[],this.distanceSize=0,this.maxDistance=a.maxDistance||100}b.prototype.merge=function(a,b){b=b||1;for(var c,d=0;d<this.mergedResults.length;d++)c=this.mergedResults[d],c.distances.push(this.maxDistance);for(var e,f,g=0;g<a.length;g++){if(e=a[g],f=this.findByValue(this.mergedResults,e.value),null===f){f={distances:[],value:e.value};for(var h=0;h<this.distanceSize+1;h++)f.distances.push(this.maxDistance);this.mergedResults.push(f)}f.distances[this.distanceSize]=Math.min(f.distances[this.distanceSize],e.distance*b)}this.distanceSize++},b.prototype.findByValue=function(a,b){for(var c=0;c<a.length;c++)if(a[c].value==b)return a[c];return null},b.prototype.getSortedResults=function(){for(var a=[],b=0;b<this.distanceSize;b++)a.push(0);a.push(this.distanceSize);for(var c,d,e,f=[],g=0;g<this.mergedResults.length;g++)c=this.mergedResults[g],e=c.value.split(/[\s,.]+/).length,d=c.distances.concat([e]),f.push({value:c.value,distances:c.distances,distance:distanceBetweenVectors(d,a,c.value)});return f.sort(sortByAttribute("distance",!0)),f},b.prototype.getSortedResultsLevensthein=function(a){var b=[];a=a.trim();for(var c=0;c<this.mergedResults.length;c++){var d=this.mergedResults[c];b.push({value:d.value,distance:StringUtils.getEditDistance(a,d.value)})}return b.sort(sortByAttribute("distance",!0)),b},a.StringMapSearchResult=b}(this);
!function(a){"use strict";function b(a){a=a||{},this.charsDistribution=a.charsDistribution||"QWERTY",this.LTRMap=new NumericMap,this.RTLMap=new NumericMap,this.rtlDistanceFactor=1.5,this.maxDistance=100,this.maxSearchDistance=a.maxSearchDistance||this.maxDistance,this.maxSearchResults=a.maxSearchResults||10,this.charsDistributions={ASCII:"abcdefghijklmnopqrstuvwxyz",QWERTY:"qazwsxedcrfvtgbyhnujmikolp"},this.setCharsDistribution(this.charsDistribution)}b.prototype.add=function(a,b){for(var c,d=a.trim().split(/[\s,.]+/),e=0;e<d.length;e++)c=this.normalizeTerm(d[e].trim()),""!==c&&(this.LTRMap.add(this.calculateLTRStringIndex(c),b),this.RTLMap.add(this.calculateRTLStringIndex(c),b))},b.prototype.search=function(a,b){b=b||{};for(var c,d=b.maxSearchDistance||this.maxSearchDistance,e=b.maxSearchResults||this.maxSearchResults,f=a.trim().split(/[\s,.]+/),g=new StringMapSearchResult({maxDistance:this.maxDistance}),h=0;h<f.length;h++)c=f[h].trim(),""!==c&&g.merge(this.searchTerm(c,d,e));var i=g.getSortedResults();return i.length>e?i.slice(0,e):i},b.prototype.searchTerm=function(a,b){b=b||{};var c=b.maxSearchDistance||this.maxSearchDistance,d=b.maxSearchResults||this.maxSearchResults;if(a=this.normalizeTerm(a),""!==a){for(var e,f=new StringMapSearchResult({maxDistance:this.maxDistance}),g=this.LTRMap.search(this.calculateLTRStringIndex(a),c,d),h=this.RTLMap.search(this.calculateRTLStringIndex(a),c,d),i=[].concat(g),j=0;j<h.length;j++)e=h[j],i.push({value:e.value,distance:e.distance*this.rtlDistanceFactor});return f.merge(i),f.getSortedResults()}return[]},b.prototype.calculateLTRStringIndex=function(a){for(var b,c=this.maxDistance,d=0,e=c,f=c,g=0;g<a.length;g++)b=this.charToInt(a[g]),c=e-d,e=d+b*(c/f),d+=(b-1)*(c/f);var h=(e+d)/2;return h},b.prototype.calculateRTLStringIndex=function(a){var b=a.split("").reverse().join("");return this.calculateLTRStringIndex(b)},b.prototype.charToInt=function(a){return this.distribution[a]},b.prototype.setCharsDistribution=function(a){var b=this.charsDistributions[a.toUpperCase()];b||(b=this.charsDistributions.QWERTY);for(var c=b.split(""),d={},e=0;e<c.length;e++)d[c[e]]=e+1;this.distribution=d},b.prototype.normalizeTerm=function(a){return StringUtils.removeDiacritics(a.toLowerCase().trim()).replace(/[^a-z]*/g,"")},a.StringMap=b}(this);
!function(a){"use strict";function b(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return e[a]||a})}function c(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;var c,d=[];for(c=0;c<=b.length;c++)d[c]=[c];var e;for(e=0;e<=a.length;e++)d[0][e]=e;for(c=1;c<=b.length;c++)for(e=1;e<=a.length;e++)d[c][e]=b.charAt(c-1)==a.charAt(e-1)?d[c-1][e-1]:Math.min(d[c-1][e-1]+1,Math.min(d[c][e-1]+1,d[c-1][e]+1));return d[b.length][a.length]}for(var d=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],e={},f=0;f<d.length;f++)for(var g=d[f].letters.split(""),h=0;h<g.length;h++)e[g[h]]=d[f].base;a.StringUtils={removeDiacritics:b,getEditDistance:c}}(this);
!function(a){"use strict";function b(a,b){return function(c,d){if(b){if(c[a]>d[a])return 1}else if(c[a]<d[a])return 1;return c[a]==d[a]?0:-1}}function c(a,b){for(var c=0,d=0,e=0,f=0;f<a.length;f++)d=a[f]?a[f]:0,e=b[f]?b[f]:0,c+=Math.pow(d-e,2);return Math.sqrt(c)}a.distanceBetweenVectors=c,a.sortByAttribute=b}(this);